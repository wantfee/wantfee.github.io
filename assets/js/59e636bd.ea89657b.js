"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9629],{7141:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>t,frontMatter:()=>r,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"image-optimization","title":"\u56fe\u7247\u4f18\u5316\u6307\u5357","description":"\u95ee\u9898\u63cf\u8ff0","source":"@site/docs/image-optimization.md","sourceDirName":".","slug":"/image-optimization","permalink":"/docs/image-optimization","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/image-optimization.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u8054\u7cfb\u8868\u5355\u96c6\u6210\u6307\u5357","permalink":"/docs/contact-form-integration"}}');var s=i(4848),d=i(8453);const r={},c="\u56fe\u7247\u4f18\u5316\u6307\u5357",h={},a=[{value:"\u95ee\u9898\u63cf\u8ff0",id:"\u95ee\u9898\u63cf\u8ff0",level:2},{value:"\u5df2\u5b9e\u65bd\u7684\u4f18\u5316\u65b9\u6848",id:"\u5df2\u5b9e\u65bd\u7684\u4f18\u5316\u65b9\u6848",level:2},{value:"1. \u61d2\u52a0\u8f7d (Lazy Loading)",id:"1-\u61d2\u52a0\u8f7d-lazy-loading",level:3},{value:"2. \u6e10\u8fdb\u5f0f\u52a0\u8f7d (Progressive Loading)",id:"2-\u6e10\u8fdb\u5f0f\u52a0\u8f7d-progressive-loading",level:3},{value:"3. \u52a0\u8f7d\u72b6\u6001\u6307\u793a\u5668",id:"3-\u52a0\u8f7d\u72b6\u6001\u6307\u793a\u5668",level:3},{value:"4. \u56fe\u7247\u5bb9\u5668\u4f18\u5316",id:"4-\u56fe\u7247\u5bb9\u5668\u4f18\u5316",level:3},{value:"\u8fdb\u4e00\u6b65\u4f18\u5316\u5efa\u8bae",id:"\u8fdb\u4e00\u6b65\u4f18\u5316\u5efa\u8bae",level:2},{value:"1. \u56fe\u7247\u538b\u7f29",id:"1-\u56fe\u7247\u538b\u7f29",level:3},{value:"2. \u4f7f\u7528WebP\u683c\u5f0f",id:"2-\u4f7f\u7528webp\u683c\u5f0f",level:3},{value:"3. \u54cd\u5e94\u5f0f\u56fe\u7247",id:"3-\u54cd\u5e94\u5f0f\u56fe\u7247",level:3},{value:"4. CDN\u52a0\u901f",id:"4-cdn\u52a0\u901f",level:3},{value:"5. \u56fe\u7247\u9884\u52a0\u8f7d",id:"5-\u56fe\u7247\u9884\u52a0\u8f7d",level:3},{value:"\u6280\u672f\u5b9e\u73b0\u7ec6\u8282",id:"\u6280\u672f\u5b9e\u73b0\u7ec6\u8282",level:2},{value:"\u61d2\u52a0\u8f7d\u5b9e\u73b0",id:"\u61d2\u52a0\u8f7d\u5b9e\u73b0",level:3},{value:"\u6e10\u8fdb\u5f0f\u52a0\u8f7d\u5b9e\u73b0",id:"\u6e10\u8fdb\u5f0f\u52a0\u8f7d\u5b9e\u73b0",level:3},{value:"\u52a0\u8f7d\u72b6\u6001\u5b9e\u73b0",id:"\u52a0\u8f7d\u72b6\u6001\u5b9e\u73b0",level:3},{value:"\u6027\u80fd\u76d1\u63a7",id:"\u6027\u80fd\u76d1\u63a7",level:2},{value:"\u4f7f\u7528Lighthouse\u6d4b\u8bd5",id:"\u4f7f\u7528lighthouse\u6d4b\u8bd5",level:3},{value:"\u5173\u952e\u6307\u6807",id:"\u5173\u952e\u6307\u6807",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u5de5\u5177\u63a8\u8350",id:"\u5de5\u5177\u63a8\u8350",level:2},{value:"\u76d1\u63a7\u548c\u7ef4\u62a4",id:"\u76d1\u63a7\u548c\u7ef4\u62a4",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u56fe\u7247\u4f18\u5316\u6307\u5357",children:"\u56fe\u7247\u4f18\u5316\u6307\u5357"})}),"\n",(0,s.jsx)(n.h2,{id:"\u95ee\u9898\u63cf\u8ff0",children:"\u95ee\u9898\u63cf\u8ff0"}),"\n",(0,s.jsx)(n.p,{children:"\u9879\u76ee\u4e2d\u7684\u4f5c\u54c1\u56fe\u7247\u6587\u4ef6\u8f83\u5927\uff0c\u5bfc\u81f4\u9875\u9762\u52a0\u8f7d\u7f13\u6162\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"floenvy-mobile-feature.png: 4.4MB"}),"\n",(0,s.jsx)(n.li,{children:"floenvy.jpg: 3.2MB"}),"\n",(0,s.jsx)(n.li,{children:"floenvy-product-page.png: 2.5MB"}),"\n",(0,s.jsx)(n.li,{children:"boxzooka-icons-2.png: 2.5MB"}),"\n",(0,s.jsx)(n.li,{children:"moreorless.png: 2.2MB"}),"\n",(0,s.jsx)(n.li,{children:"boxzooka-icons-1.png: 1.8MB"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5df2\u5b9e\u65bd\u7684\u4f18\u5316\u65b9\u6848",children:"\u5df2\u5b9e\u65bd\u7684\u4f18\u5316\u65b9\u6848"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u61d2\u52a0\u8f7d-lazy-loading",children:"1. \u61d2\u52a0\u8f7d (Lazy Loading)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:'loading="lazy"'})," \u5c5e\u6027"]}),"\n",(0,s.jsx)(n.li,{children:"\u56fe\u7247\u53ea\u5728\u8fdb\u5165\u89c6\u53e3\u65f6\u624d\u5f00\u59cb\u52a0\u8f7d"}),"\n",(0,s.jsx)(n.li,{children:"\u51cf\u5c11\u521d\u59cb\u9875\u9762\u52a0\u8f7d\u65f6\u95f4"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-\u6e10\u8fdb\u5f0f\u52a0\u8f7d-progressive-loading",children:"2. \u6e10\u8fdb\u5f0f\u52a0\u8f7d (Progressive Loading)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u663e\u793a\u52a0\u8f7d\u5360\u4f4d\u7b26"}),"\n",(0,s.jsx)(n.li,{children:"\u56fe\u7247\u52a0\u8f7d\u5b8c\u6210\u540e\u5e73\u6ed1\u6de1\u5165"}),"\n",(0,s.jsx)(n.li,{children:"\u63d0\u4f9b\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-\u52a0\u8f7d\u72b6\u6001\u6307\u793a\u5668",children:"3. \u52a0\u8f7d\u72b6\u6001\u6307\u793a\u5668"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u65cb\u8f6c\u7684\u52a0\u8f7d\u56fe\u6807"}),"\n",(0,s.jsx)(n.li,{children:'"Loading image..." \u6587\u5b57\u63d0\u793a'}),"\n",(0,s.jsx)(n.li,{children:"\u8ba9\u7528\u6237\u77e5\u9053\u56fe\u7247\u6b63\u5728\u52a0\u8f7d"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-\u56fe\u7247\u5bb9\u5668\u4f18\u5316",children:"4. \u56fe\u7247\u5bb9\u5668\u4f18\u5316"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u56fa\u5b9a\u6700\u5c0f\u9ad8\u5ea6\u907f\u514d\u5e03\u5c40\u8df3\u52a8"}),"\n",(0,s.jsx)(n.li,{children:"\u7070\u8272\u80cc\u666f\u4f5c\u4e3a\u5360\u4f4d\u7b26"}),"\n",(0,s.jsx)(n.li,{children:"\u5706\u89d2\u8fb9\u6846\u4fdd\u6301\u89c6\u89c9\u4e00\u81f4\u6027"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u8fdb\u4e00\u6b65\u4f18\u5316\u5efa\u8bae",children:"\u8fdb\u4e00\u6b65\u4f18\u5316\u5efa\u8bae"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u56fe\u7247\u538b\u7f29",children:"1. \u56fe\u7247\u538b\u7f29"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u63d0\u4f9b\u7684\u4f18\u5316\u811a\u672c\u538b\u7f29\u56fe\u7247\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5b89\u88c5\u4f9d\u8d56\nnpm install sharp\n\n# \u8fd0\u884c\u4f18\u5316\u811a\u672c\nnode scripts/optimize-images.js\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-\u4f7f\u7528webp\u683c\u5f0f",children:"2. \u4f7f\u7528WebP\u683c\u5f0f"}),"\n",(0,s.jsx)(n.p,{children:"WebP\u683c\u5f0f\u6bd4PNG/JPEG\u5c0f30-50%\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u751f\u6210WebP\u7248\u672c\nnode scripts/optimize-images.js\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-\u54cd\u5e94\u5f0f\u56fe\u7247",children:"3. \u54cd\u5e94\u5f0f\u56fe\u7247"}),"\n",(0,s.jsx)(n.p,{children:"\u4e3a\u4e0d\u540c\u5c4f\u5e55\u5c3a\u5bf8\u63d0\u4f9b\u4e0d\u540c\u5927\u5c0f\u7684\u56fe\u7247\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<picture>\n  <source srcset="image-small.webp" media="(max-width: 768px)">\n  <source srcset="image-medium.webp" media="(max-width: 1200px)">\n  <img src="image-large.webp" alt="Description">\n</picture>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-cdn\u52a0\u901f",children:"4. CDN\u52a0\u901f"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4f7f\u7528CDN\u670d\u52a1\u52a0\u901f\u56fe\u7247\u52a0\u8f7d"}),"\n",(0,s.jsx)(n.li,{children:"\u5229\u7528\u6d4f\u89c8\u5668\u7f13\u5b58"}),"\n",(0,s.jsx)(n.li,{children:"\u51cf\u5c11\u670d\u52a1\u5668\u8d1f\u8f7d"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-\u56fe\u7247\u9884\u52a0\u8f7d",children:"5. \u56fe\u7247\u9884\u52a0\u8f7d"}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e\u91cd\u8981\u7684\u56fe\u7247\uff0c\u53ef\u4ee5\u9884\u52a0\u8f7d\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<link rel="preload" as="image" href="important-image.webp">\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u6280\u672f\u5b9e\u73b0\u7ec6\u8282",children:"\u6280\u672f\u5b9e\u73b0\u7ec6\u8282"}),"\n",(0,s.jsx)(n.h3,{id:"\u61d2\u52a0\u8f7d\u5b9e\u73b0",children:"\u61d2\u52a0\u8f7d\u5b9e\u73b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<img \n  src={imageSrc}\n  loading="lazy"\n  alt="Description"\n/>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u6e10\u8fdb\u5f0f\u52a0\u8f7d\u5b9e\u73b0",children:"\u6e10\u8fdb\u5f0f\u52a0\u8f7d\u5b9e\u73b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const [imageLoaded, setImageLoaded] = useState(false);\n\n<img \n  src={imageSrc}\n  style={{\n    opacity: imageLoaded ? 1 : 0,\n    transition: "opacity 0.3s ease"\n  }}\n  onLoad={() => setImageLoaded(true)}\n  alt="Description"\n/>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u52a0\u8f7d\u72b6\u6001\u5b9e\u73b0",children:"\u52a0\u8f7d\u72b6\u6001\u5b9e\u73b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'{!imageLoaded && (\n  <div className="imagePlaceholder">\n    <LoadingOutlined className="loadingIcon" />\n    <p>Loading image...</p>\n  </div>\n)}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u6027\u80fd\u76d1\u63a7",children:"\u6027\u80fd\u76d1\u63a7"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528lighthouse\u6d4b\u8bd5",children:"\u4f7f\u7528Lighthouse\u6d4b\u8bd5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5b89\u88c5Lighthouse\nnpm install -g lighthouse\n\n# \u6d4b\u8bd5\u6027\u80fd\nlighthouse https://your-site.com --output html --output-path ./lighthouse-report.html\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5173\u952e\u6307\u6807",children:"\u5173\u952e\u6307\u6807"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"First Contentful Paint (FCP)"}),": < 1.8s"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Largest Contentful Paint (LCP)"}),": < 2.5s"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cumulative Layout Shift (CLS)"}),": < 0.1"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u56fe\u7247\u683c\u5f0f\u9009\u62e9"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7167\u7247\uff1aWebP > JPEG"}),"\n",(0,s.jsx)(n.li,{children:"\u56fe\u6807/\u56fe\u5f62\uff1aWebP > PNG > SVG"}),"\n",(0,s.jsx)(n.li,{children:"\u52a8\u753b\uff1aGIF > WebP"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u56fe\u7247\u5c3a\u5bf8"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6839\u636e\u5b9e\u9645\u663e\u793a\u5c3a\u5bf8\u8c03\u6574"}),"\n",(0,s.jsx)(n.li,{children:"\u907f\u514d\u8fc7\u5927\u7684\u56fe\u7247\u6587\u4ef6"}),"\n",(0,s.jsx)(n.li,{children:"\u8003\u8651\u8bbe\u5907\u50cf\u7d20\u6bd4"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u538b\u7f29\u8d28\u91cf"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7167\u7247\uff1a80-85%"}),"\n",(0,s.jsx)(n.li,{children:"\u56fe\u6807\uff1a90-95%"}),"\n",(0,s.jsx)(n.li,{children:"\u5728\u8d28\u91cf\u548c\u6587\u4ef6\u5927\u5c0f\u95f4\u5e73\u8861"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u7f13\u5b58\u7b56\u7565"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8bbe\u7f6e\u5408\u9002\u7684\u7f13\u5b58\u5934"}),"\n",(0,s.jsx)(n.li,{children:"\u4f7f\u7528\u7248\u672c\u53f7\u6216\u54c8\u5e0c\u503c"}),"\n",(0,s.jsx)(n.li,{children:"\u8003\u8651\u957f\u671f\u7f13\u5b58"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5de5\u5177\u63a8\u8350",children:"\u5de5\u5177\u63a8\u8350"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sharp"}),": Node.js\u56fe\u7247\u5904\u7406\u5e93"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TinyPNG"}),": \u5728\u7ebf\u56fe\u7247\u538b\u7f29"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Squoosh"}),": Google\u56fe\u7247\u538b\u7f29\u5de5\u5177"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ImageOptim"}),": macOS\u56fe\u7247\u4f18\u5316\u5de5\u5177"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u76d1\u63a7\u548c\u7ef4\u62a4",children:"\u76d1\u63a7\u548c\u7ef4\u62a4"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5b9a\u671f\u68c0\u67e5\u56fe\u7247\u6587\u4ef6\u5927\u5c0f"}),"\n",(0,s.jsx)(n.li,{children:"\u76d1\u63a7\u9875\u9762\u52a0\u8f7d\u6027\u80fd"}),"\n",(0,s.jsx)(n.li,{children:"\u66f4\u65b0\u8fc7\u5927\u7684\u56fe\u7247"}),"\n",(0,s.jsx)(n.li,{children:"\u6d4b\u8bd5\u4e0d\u540c\u7f51\u7edc\u73af\u5883\u4e0b\u7684\u8868\u73b0"}),"\n"]})]})}function t(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var l=i(6540);const s={},d=l.createContext(s);function r(e){const n=l.useContext(d);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);